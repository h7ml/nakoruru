import{j as e,N as a,r as t,cF as n,cG as o,cH as s,cs as r,cI as l,cn as d,cu as c,co as i,cJ as p}from"./index-BYIAYquO.js";import{i as u}from"./index2-3I_u_Mx0.js";import{i as f}from"./index3-DD9VxT17.js";const x=()=>{const t=(e,a)=>{e.dataTransfer.setData("application/reactflow",a),e.dataTransfer.effectAllowed="move"};return e.jsxs("aside",{children:[e.jsx(a,{type:"dashed",onDragStart:e=>t(e,"input"),draggable:!0,children:"Input Node"}),e.jsx(a,{type:"dashed",className:"m-6 ml-0",onDragStart:e=>t(e,"default"),draggable:!0,children:"Default Node"}),e.jsx(a,{type:"dashed",onDragStart:e=>t(e,"output"),draggable:!0,children:"Output Node"})]})};function m(){const a=t.useRef(null),[m,j,g]=n([]),[h,v,y]=o([]),[D,N]=t.useState(null),C=t.useCallback((e=>v((a=>s({...e,markerEnd:{type:r.Arrow}},a)))),[]),k=t.useCallback((e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]);return e.jsx("div",{className:"w-full h-full flex",children:e.jsxs(l,{children:[e.jsx("div",{className:"left w-[120px]",children:e.jsx(x,{})}),e.jsx("div",{ref:a,className:"flex-1 h-[calc(100vh-134px)]",children:e.jsxs(d,{nodes:m,edges:h,onNodesChange:g,onEdgesChange:y,onNodeClick:(e,a)=>{},onConnect:C,onInit:N,onDrop:e=>{e.preventDefault();const t=a.current.getBoundingClientRect(),n=null==e?void 0:e.dataTransfer.getData("application/reactflow");if(void 0===n||!n)return;const o=D.project({x:e.clientX-t.left,y:e.clientY-t.top}),s={id:p(),type:n,position:o,data:{label:`${n} node`}};j((e=>e.concat(s)))},onDragOver:k,defaultZoom:1,minZoom:1,maxZoom:1.5,children:[e.jsx(u,{nodeStrokeColor:e=>"input"===e.type?"#0041d0":"default"===e.type?"pink":"output"===e.type?"#ff0072":"#eee",nodeColor:e=>"input"===e.type?"#0041d0":"default"===e.type?"pink":"output"===e.type?"#ff0072":"#eee"}),e.jsx(f,{variant:c.Dots}),e.jsx(i,{})]})})]})})}export{m as default};
